<!DOCTYPE html>
<html lang="ko" dir="ltr">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <script src="./luna.js"></script>
    <script src="http://code.jquery.com/jquery-latest.js"></script> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div class="menu-bar">
        <div class="index">
            <a href="../main.html">
                <i class='bx bxs-home'></i>
            </a>
        </div>
        <button class="button a" onclick="javascript:doShow1()">냉장고 내부</button>
        <button class="button b"onclick="javascript:doShow2()">메뉴 추천</button>
    </div>
    <section class="home-section">
        <div id="aa">
			<div class="video">
				<img src="./uploads/food.jpg" height="400px" width="335px">
			</div>
			<div class="refri-object">
				<div class="refri-in" id="foodList"></div>
			</div>
			<div id="refri-object2"></div>
        </div>
        <div id="bb">
            <div class="conc">
                <div class="stage">
                    <div class="menu_title"><h1>냉장고 내부 식재료를 활용한 메뉴추천</h1></div>
                    <div id="menu_list"></div>
                    <br>
                </div>
                <div id="recipe_box">
                    <div id="recipe_inner">
                        <div id="recipe_description"></div>
                        <img src="https://img.icons8.com/ios-filled/96/000000/cancel.png" id="exit"/>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script type="text/javascript" src="./script.js"></script>
    <script>
    $('#aa').show();
    $('#bb').hide();

    food_list_load("./uploads/food_list.txt");

    var object = "";
    var menu = "";

    function food_load(files, picture, menus = "") {
        var file2 = files;
        var rawFile = new XMLHttpRequest();
        rawFile.open("GET", file2, false);
        rawFile.onreadystatechange = function ()
        {
            if(rawFile.readyState === 4)
            {
                if(rawFile.status === 200 || rawFile.status == 0)
                {
                    var allText = rawFile.responseText;
                    if (allText > 0){
                        object += "<div class='O-box'><img src='./object_img/" + picture + "' class='O-img'><div class='number'>" + allText + "</div></div>";
                        menu += menus;
                    }
                }
            }
        }
        rawFile.send(null);
    }

    food_load("./uploads/apple.txt", "apple.png",
    "<div class='menu'><img src='./menu_recommand/applepancake.jpg' class='menu_image'><div class='menu_description'><p>메뉴이름 : 사과 팬케이크</p><p>활용한 식재료 : 사과</p><p>필요한 식재료 : 핫케이크믹스, 우유, 꿀</p><div class='menu_button'><div class='recipe' data-menu='사과팬케이크'>조리법 보기</div><div class='to_kakao' data-menu='사과팬케이크'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/banana.txt", "banana.png",
    "<div class='menu'><img src='./menu_recommand/bananapancake.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 바나나 팬케이크</p><p>활용한 식재료 : 바나나</p><p>필요한 식재료 : 핫케이크믹스, 우유</p><div class='menu_button'><div class='recipe' data-menu='바나나팬케이크'>조리법 보기</div><div class='to_kakao' data-menu='바나나팬케이크'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/orange.txt", "orange.png",
    "<div class='menu'><img src='./menu_recommand/orangesalad.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 훈제닭가슴살 샐러드</p><p>활용한 식재료 : 오렌지</p><p>필요한 식재료 : 닭가슴살, 양파</p><div class='menu_button'><div class='recipe' data-menu='훈제닭가슴살샐러드'>조리법 보기</div><div class='to_kakao' data-menu='훈제닭가슴살샐러드'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/potato.txt", "apple.png",
    "<div class='menu'><img src='./menu_recommand/potatocheese.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 떠먹는 치즈감자</p><p>활용한 식재료 : 감자</p><p>필요한 식재료 : 치즈, 베이컨, 우유</p><div class='menu_button'><div class='recipe' data-menu='떠먹는치즈감자'>조리법 보기</div><div class='to_kakao' data-menu='떠먹는치즈감자'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/broccoli.txt", "broccoli.png",
    "<div class='menu'><img src='./menu_recommand/brocolishrimp.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 브로콜리 새우볶음</p><p>활용한 식재료 : 브로콜리</p><p>필요한 식재료 : 새우, 파프리카</p><div class='menu_button'><div class='recipe' data-menu='브로콜리새우볶음'>조리법 보기</div><div class='to_kakao' data-menu='브로콜리새우볶음'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/cabbage.txt", "apple.png");
    food_load("./uploads/cantaloupe.txt", "apple.png");
    food_load("./uploads/carrot.txt", "carrot.png", 
    "<div class='menu'><img src='./menu_recommand/carrotpancake.jpg' class='menu_image'><div class='menu_description'><p>메뉴이름 : 당근전</p><p>활용한 식재료 : 당근</p><p>필요한 식재료 : 부침가루, 애호박</p><div class='menu_button'><div class='recipe' data-menu='당근전'>조리법 보기</div><div class='to_kakao' data-menu='당근전'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/pumpkin.txt", "pumpkin.png",
    "<div class='menu'><img src='./menu_recommand/pumpkinbacon.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 호박 베이컨볶음</p><p>활용한 식재료 : 호박</p><p>필요한 식재료 : 베이컨, 다진마늘</p><div class='menu_button'><div class='recipe' data-menu='호박베이컨볶음'>조리법 보기</div><div class='to_kakao' data-menu='호박베이컨볶음'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/tomato.txt", "tomato.png",
    "<div class='menu'><img src='./menu_recommand/tomatosalad.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 토마토 샤브샐러드</p><p>활용한 식재료 : 토마토</p><p>필요한 식재료 : 돼지고기, 꽈리고추, 양파</p><div class='menu_button'><div class='recipe' data-menu='토마토샤브샐러드'>조리법 보기</div><div class='to_kakao' data-menu='토마토샤브샐러드'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/cucumber.txt", "cucumber.png",
    "<div class='menu'><img src='./menu_recommand/cucumberroll.jpeg' class='menu_image'><div class='menu_description'><p>메뉴이름 : 오이초밥</p><p>활용한 식재료 : 오이</p><p>필요한 식재료 : 맛살, 마요네즈</p><div class='menu_button'><div class='recipe' data-menu='오이초밥'>조리법 보기</div><div class='to_kakao' data-menu='오이초밥'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/egg.txt", "egg.png", 
    "<div class='menu'><img src='./menu_recommand/eggpancake.jpg' class='menu_image'><div class='menu_description'><p>메뉴이름 : 당면계란전</p><p>활용한 식재료 : 계란</p><p>필요한 식재료 : 당면, 대파, 부추</p><div class='menu_button'><div class='recipe' data-menu='당면계란전'>조리법 보기</div><div class='to_kakao' data-menu='당면계란전'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/grape.txt", "grape.png",
    "<div class='menu'><img src='./menu_recommand/grapepuding.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 포도푸딩</p><p>활용한 식재료 : 포도</p><p>필요한 식재료 : 젤라틴, 설탕</p><div class='menu_button'><div class='recipe' data-menu='포도푸딩'>조리법 보기</div><div class='to_kakao' data-menu='포도푸딩'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/lemon.txt", "lemon.png", 
    "<div class='menu'><img src='./menu_recommand/lemonade.jpg' class='menu_image'><div class='menu_description'><p>메뉴이름 : 수제레몬청</p><p>활용한 식재료 : 레몬</p><p>필요한 식재료 : 설탕, 베이킹소다</p><div class='menu_button'><div class='recipe' data-menu='수제레몬청'>조리법 보기</div><div class='to_kakao' data-menu='수제레몬청'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/mango.txt", "mango.png",
    "<div class='menu'><img src='./menu_recommand/mangosalad.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 두부 망고샐러드</p><p>활용한 식재료 : 망고</p><p>필요한 식재료 : 두부</p><div class='menu_button'><div class='recipe' data-menu='두부망고샐러드'>조리법 보기</div><div class='to_kakao' data-menu='두부망고샐러드'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/mushroom.txt", "mushroom.png",
    "<div class='menu'><img src='./menu_recommand/mushroombutter.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 새송이버섯 간장버터구이</p><p>활용한 식재료 : 버섯</p><p>필요한 식재료 : 버터, 올리고당, 맛술</p><div class='menu_button'><div class='recipe' data-menu='새송이버섯간장버터구이'>조리법 보기</div><div class='to_kakao' data-menu='새송이버섯간장버터구이'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/peach.txt", "peach.png",
    "<div class='menu'><img src='./menu_recommand/peachmilk.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 복숭아우유</p><p>활용한 식재료 : 복숭아</p><p>필요한 식재료 : 우유, 레몬즙</p><div class='menu_button'><div class='recipe' data-menu='복숭아우유'>조리법 보기</div><div class='to_kakao' data-menu='복숭아우유'>냉장고로 조리법 전송</div></div></div></div>");
    food_load("./uploads/pear.txt", "apple.png");
    food_load("./uploads/pineapple.txt", "pineapple.png",
    "<div class='menu'><img src='./menu_recommand/pineapplerice.png' class='menu_image'><div class='menu_description'><p>메뉴이름 : 파인애플 볶음밥</p><p>활용한 식재료 : 파인애플</p><p>필요한 식재료 : 새우, 햄, 양파</p><div class='menu_button'><div class='recipe' data-menu='파인애플볶음밥'>조리법 보기</div><div class='to_kakao' data-menu='파인애플볶음밥'>냉장고로 조리법 전송</div></div></div></div>");

    document.getElementById("refri-object2").innerHTML = object;
    document.getElementById("menu_list").innerHTML = menu;

    var recipes = document.getElementsByClassName("recipe");
    for (i=0; i<recipes.length; i++){
        recipes[i].addEventListener("click", showLightbox);
    }
    var kakao = document.getElementsByClassName("to_kakao");
    for (i=0; i<kakao.length; i++){
        kakao[i].addEventListener("click", sendKakaotalk);
    }

    document.getElementById("exit").onclick = function() {
        document.getElementById("recipe_box").style.display = "none";
    }
    </script>
</body>
</html>